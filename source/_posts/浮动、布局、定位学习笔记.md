---
title: 浮动、布局、定位学习笔记
date: 2020-02-02 11:40:36
tags: CSS
categories: Web前端
---
### 1、浮动
#### 1.1 传统网页布局的3种方式
网页布局的本质一用CSS来摆放盒子。把盒子摆放到相应位置。

1. 普通流（标准流）
2. 浮动
3. 定位
#### 1.2 普通流（标准流）
所谓的标准流:就是标签按照规定好默认方式排列；
#### 1.3 浮动（float）
有很多的布局效果,标准流没有办法完成。此时就可以利用浮动完成布局。因为浮动可以改变元素标签默认的排列方式；

浮动最典型的应用:可以让多个块级元素一行内排列显示。

网页布局第一准则:多个块级元素纵向排列找标准流,多个块级元素横向排列找浮动。

**float属性用于创建浮动框,将其移动到一边，直到左边缘或右边缘触及包含块或另一个浮动框的边缘；**
语法：
```
选择器{float: 属性值;}
```
示例：
```
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Float</title>
    <style>
        div {
            width: 300px;
            height: 200px;
            background-color: pink;
        }

        .left {
            float: left;
        }

        .right {
            float: right;
        }
    </style>
</head>

<body>
    <div class="left">贰拾肆呀</div>
    <div class="right">随心吖</div>
</body>

</html>
```
#### 1.4 浮动的特性
1. 浮动元素会脱离标准流(脱标)，不再保留用来的位置，让其他标准流去占有；
2. 浮动的元素会一行内显示并且元素顶部对齐；
3. 浮动的元素会具有行内块元素的特性；

为了约束浮动元素位置，网页布局一般采取的措施：**先用标准流的父元素排列上下位置，之后内部子元素采取浮动排列左右位置符合网页布局第一准则；**
示例：
```
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Float</title>
    <link rel="stylesheet" href="">
    <style>
        .box {
            width: 1200px;
            height: 460px;
            background-color: pink;
            margin: 100px auto;
        }

        .left {
            width: 230px;
            height: 460px;
            background-color: yellow;
            float: left;
        }

        .right {
            width: 970px;
            height: 460px;
            background-color: skyblue;
            float: right;
        }
    </style>
</head>

<body>
    <div class="box">
        <div class="left"></div>
        <div class="right"></div>
    </div>
</body>

</html>
```
示例：
```
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Float</title>
    <style>
        * {
            padding: 0;
            margin: 0;
        }

        li {
            list-style: none;
        }

        .box {
            width: 1226px;
            height: 285px;
            background-color: skyblue;
            margin: 100px auto;
        }

        .box li {
            width: 296px;
            height: 285px;
            background-color: yellow;
            float: left;
            margin-right: 14px;
        }
/* 要注意权重的问题 */
        .box .last {
            margin-right: 0;
        }
    </style>
</head>

<body>
    <ul class="box">
        <li>1</li>
        <li>2</li>
        <li>3</li>
        <li class="last">4</li>
    </ul>
</body>

</html>
```
这个示例有权重问题，一定要使用.box .last这个选择器；
### 2、常见的网页布局
#### 2.1 常见网页布局
示例：
```
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>LayoutDemo01</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        .top {
            height: 50px;
            background-color: yellow;
        }

        .banner {
            width: 980px;
            height: 150px;
            background-color: yellow;
            margin: 10px auto;
        }

        li {
            list-style: none;
        }

        .box {
            width: 978px;
            margin: 0 auto;
            height: 300px;
            background-color: skyblue;
        }

        .box li {
            width: 237px;
            height: 300px;
            background-color: yellow;
            float: left;
            margin-right: 10px;
        }

        .box .last {
            margin-right: 0;
        }

        .footer {
            height: 200px;
            background-color: yellow;
            margin-top: 10px;
        }
    </style>
</head>

<body>
    <div class="top">top</div>
    <div class="banner">banner</div>
    <div class="box">
        <ul>
            <li>1</li>
            <li>2</li>
            <li>3</li>
            <li class="last">4</li>
        </ul>
    </div>
    <div class="footer">footer</div>
</body>

</html>
```
### 3、清除浮动
父级盒子的高度在很多情况下不方便给固定高度；但是盒子浮动就不占有原来的位置，最后分级盒子的高度就会为0，会影响标准流的盒子；为了让孩子撑开父级盒子；此时我们就要清除浮动；

语法：
```
选择器{clear: 属性值}
```
属性值：
1. left 不允许左侧有浮动元素（清除左侧浮动的影响）
2. right
3. both 清除左右两侧

#### 3.1 清除浮动的方法
1. 额外标签法也称为隔墙法,是W3C推荐的做法。
```
额外标签法会在浮动元素末尾添加一个空的标签。例如<divstyle=" clear.both" > </div> ,或者其他标签
(如<br/>等)。
●优点:通俗易懂,书泻方便
●缺点:添加许多无意义的标签,结构化较差
```
**所添加的元素必须是块级元素，不能是行内元素**
2. 父级添加overflow属性
```
可以给父级添加overflow属性,将其属性值设置为hidden、auto 或scroll.
子不教父之过注意是给父元素添加代码
优点:代码简洁
缺点:无法显示溢出的部分
```
3. 父级添加after伪元素
```
:after方式是额外标签法的升级版，也是给父元素添加；
        .clearfix:after {
            content: "";
            display: block;
            height: 0;
            clear: both;
            visibility: hidden;
        }

        .clearfix {
            *zoom: 1;
        }
```
4. 父级添加双伪元素
```
.clearfix:before,
.clearfix:after {
    content: "";
    display: table;
}

.clearfix:after {
    clear: both;
}

.clearfix {
    *zoom: 1;
}
```
### 4、切图
Cutterman PS切图插件[下载地址](http://www.cutterman.cn/zh/cutterman)
### 5、CSS属性书写顺序
1. 布局定位属性: display/ position/ float/ clear / visibility/ overflow (建议display第一个写,毕竟关系到模式)
2. 自身属性: width/ height/ margin/ padding / border/ background
3. 文本属性: color/ font / text-decoration/ text align/ vertical-align/ white- space / break-word
4. 其他属性(CSS3) : content / cursor / border-radius/ box- shadow/ text- shadow/ backgroundlinear-gradient...
### 6、页面布局的整体思路
为了提高网页制作的效率,布局时通常有以下的整体思路:

1. 必须确定页面的版心(可视区) ,我们测量可得知。
2. 分析页面中的行模块,以及每个行模块中的列模块。页面布局第-准则
3. 一行中的列模块经常浮动布局先确定每个列的大小,之后确定列的位置.页面布局第二准则
4. 制作HTML结构。我们还是遵循.先有结构,后有样式的原则。结构永远最重要
5. 所以先理清楚布局结构,再写代码尤为重要这需要我们多写多积累；
### 7、定位
1. 浮动可以让多个块级盒子-行没有缝随排列显示 ,经常用于横向排列盒子。
2. 定位则是可以让盒子自由的在某个盒子内移动位置或者固定屏幕中某个位置,并且可以压住其他盒子。
#### 7.1 定位的组成
**定位 = 定位模式 + 边偏移**

定位模式用于指定一个元素在文档中的定位方式。

边偏移则决定了该元素的最终位置。
##### 7.1.1 定位模式
定位模式决定元素的定位方式。它通过CSS的position属性来设置，其值可以分为四个：
1. static 静态定位
2. relative 相对定位
3. absolute 绝对定位
4. fixed 固定定位

##### 7.1.2 边偏移
边偏移就是定位的盒子移动到最终位置。有top、bottom、left和right4个属性。

示例：
```
top: 80px /*顶端偏移量，定义相对于其父元素上边线的距离*/
```
#### 7.2 静态定位static
静态定位是元素的默认定位方式，无定位的意思；

语法：
```
选择器 {position: static;}
```
- 静态定位按照标准流特性摆放位置,它没有边偏移;
- 静态定位在布局时很少用到;

#### 7.3 相对定位relative（重要）
相对定位是元素在移动位置的时候，是相对于它原来的位置来说的；
语法：
```
选择器 {position: relative;}
```
**相对定位的特点: ( 务必记住)**
1. 它是相对于自己原来的位置来移动的(移动位置的时候参照点是自己原来的位置)。
2. 原来在标准流的位置继续占有。后面的盒子仍然以标准流的方式对待它。(不脱标。继续保留原来位置)

#### 7.4 绝对定位absolute（重要）
绝对定位是元素在移动位置的时候,是相对于它祖先元素来说的。

语法：
```
选择器 {position: absolute;}
```
**绝对定位的特点: ( 务必记住)**
1. 如果没有祖先元素或者祖先元素没有定位,则以浏览器为准定位(Document文档)。
2. 如果祖先元素有定位(相对、绝对、固定定位),则以最近一级的有定位祖先元素为参考点移动位置。

示例：
```
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        .yeye {
            position: relative;
            width: 400px;
            height: 400px;
            background-color: gray;
        }

        .baba {
            width: 300px;
            height: 300px;
            background-color: yellow;
        }

        .son {
            position: absolute;
            bottom: 20px;
            right: 20px;
            width: 100px;
            height: 100px;
            background-color: skyblue;
        }
    </style>
</head>

<body>
    <div class="yeye">
        <div class="baba">
            <div class="son"></div>
        </div>
    </div>
</body>

</html>
```
3. 绝对定位不再占有原先的位置。( 脱标)

**子绝父相**
1. 子级绝对定位,不会占有位置。可以放到父盒子里面的任何一个地方，不会影响其他的兄弟盒子。
2. 父盒子需要加定位限制子盒子在父盒子内显示。

#### 7.5 固定定位fixed（重要）
固定定位是元素固定于浏览器可视区的位置。主要使用场景：可以在浏览器页面滚动时元素的位置不会改变。

 语法：
 ```
 选择器 {position: fixed;}
 ```
**固定定位的特点: (务必记住)**
1. 以浏览器的可视窗口为参照点移动元素。
    - 跟父元素没有任何关系
    - 不随滚动条滚动。
2. 固定定位不在占有原先的位置。

固定定位也是脱标的,其实固定定位也可以看做是一种特殊的绝对定位。

**固定定位小技巧:固定在版心右侧位置。**

小算法:

1. 让固定定位的盒子left:50%,走到浏览器可视区(也可以看做版心)的一半位置。
2. 让固定定位的盒子margin-left:版心宽度的一半距离。多走版心宽度的一半位置就可以让固定定位的盒子贴着版心右侧对齐了。

#### 7.6 粘性定位（了解）
粘性定位可以被认为是相对定位和固定定位的混合。Sticky 粘性的

语法：
```
 选择器 {position: sticky; top: 10px}
```
**粘性定位的特点:**
1. 以浏览器的可视窗口为参照点移动元素(固定定位特点)
2. 粘性定位占有原先的位置(相对定位特点)
3. 必须添加top.left.right.bottom其中一个才有效

#### 定位比较：
![定位比较图](http://q4iddx50w.bkt.clouddn.com/PicGo/dingwei.png)

#### 7.7 定位叠放次序 z-index
在使用定位布局时,可能会出现盒子重要的情况。此时可以使用z-index来控制盒子的前后次序(z轴)

语法：
```
选择器{ z-index: 1;}
```
- 数值可以是正整数、负整数或0,默认是auto。数值越大,盒子越靠上;
- 如果属性值相同,则按照书写顺序,后来居上;
- 数字后面不能加单位;
- 只有定位的盒子才有z-index属性;

#### 7.8 定位的拓展
##### 7.8.1 绝对定位盒子居中
加了绝对定位的盒子不能通过margin:0auto水平居中,但是可以通过以下计算方法实现水平和垂直居中。
```
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        .box {
            position: absolute;
            left: 50%;
            margin-left: -100px;
            width: 200px;
            height: 200px;
            background-color: skyblue;
            top: 50%;
            margin-top: -100px;
        }
    </style>
</head>

<body>
    <div class="box"></div>
</body>

</html>
```
##### 7.8.2 定位特殊特性
绝对定位和固定定位也和浮动类似。
1. 行内元素添加绝对或者固定定位,可以直接设置高度和宽度。
2. 块级元素添加绝对或者固定定位,如果不给宽度或者高度.默认大小是内容的大小。

##### 7.8.3 绝对定位(固定定位)会完全压住盒子

浮动元素不同，只会压住它下面标准流的盒子。但是不会压住下面标准流盒子里面的文字(图片)；
但是绝对定位(固定定位)会压住下面标准流所有的内容。

浮动之所以不会压住文字.因为浮动产生的目的最初是为了做文字环绕效果的。字会围绕浮动元素；
### 8、布局总结
通过盒子模型,清楚知道大部分html标签是一个盒子。

通过CSS浮动、定位可以让每个盒子排列成为网页。

一个完整的网页,是标准流、浮动、定位一起完成布局的,每个都有自己的专门用法。

1. 标准流

可以让盒子上下排列或者左右排列,垂直的块级盒子显示就用标准流布局。
2. 浮动

可以让多个块级元素-行显示或者左右对齐盒子 ,多个块级盒子水平显示就用浮动布局。
3. 定位

定位最大的特点是有层叠的概念,就是可以让多个盒子前后叠压来示。如果元素自由在某个盒子内移动就
用定位布局。
### 9、元素的显示与隐藏
一个元素在页面中显示或者隐藏

1. display 显示隐藏
2. visibility 显示隐藏
3. overflow 显示隐藏

#### 9.1 display显示隐藏
display属性用于设置一个元素应如何显示。
- display.none ; 隐藏对象
- display: block; 除了转换为块级元素之外,同时还有示元素的意思

**display隐藏元素后,不再占有原来的位置。**

```
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        .suixin {
            /* display: block; */
            display: none;
            width: 200px;
            height: 200px;
            background-color: skyblue;
        }

        .ershisi {
            width: 200px;
            height: 200px;
            background-color: pink;
        }
    </style>
</head>

<body>
    <div class="suixin">随心</div>
    <div class="ershisi">贰拾肆</div>
</body>

</html>
```
#### 9.2 visibility可见性
visibility属性用于指定一个元素应可见还是隐藏。

- visibility : visible; 元素可视
- visibility : hidden; 元素隐藏
```
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        .suixin {
            /* visibility: visible; */
            visibility: hidden;
            width: 200px;
            height: 200px;
            background-color: skyblue;
        }

        .ershisi {
            width: 200px;
            height: 200px;
            background-color: pink;
        }
    </style>
</head>

<body>
    <div class="suixin">随心</div>
    <div class="ershisi">贰拾肆</div>
</body>

</html>
```
visibility隐藏元素后.继续占有原来的位置。

如果隐藏元素想要原来位置，就用visibility : hidden

如果隐藏元素不想要原来位置，就用display : none (用处更多重点)

#### 9.3 overflow溢出
overflow属性指定了如果内容溢出一个元素的框(超过其指定高度及宽度)时,会发生什么。

```
/* overfLow: visible; */
/* overflow: hidden; */
/* scroll 溢出的部分显示滚动条*/
/* overfLow: scroll; */
overflow: auto;
```
综合案例：
```
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        .tudou {
            position: relative;
            width: 444px;
            height: 320px;
            background-color: skyblue;
            margin: 100px auto;
        }

        .tudou img {
            width: 100%;
            height: 100%;
        }

        .mask {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
        }

        .tudou:hover .mask {
            display: block;
        }
    </style>
</head>

<body>
    <div class="tudou">
        <img src="http://q4iddx50w.bkt.clouddn.com/PicGo/修古风.jpg" alt="修古风">
        <div class="mask"></div>
    </div>
</body>

</html>
```